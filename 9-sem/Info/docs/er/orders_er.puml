@startuml Orders_ER
title ER â€” Orders Service (MySQL)

entity "customers" as C {
  + id : uuid
  --
  first_name : varchar
  last_name : varchar
  email : varchar (unique)
  phone : varchar
  created_at : datetime
  updated_at : datetime
}

entity "regions" as RG {
  + id : uuid
  --
  name : varchar
  code : varchar (unique)
}

entity "employees" as E {
  + id : uuid
  --
  first_name : varchar
  last_name : varchar
  email : varchar (unique)
  hired_at : date
  is_manager : boolean
  region_id : uuid
}

entity "orders" as O {
  + id : uuid
  --
  customer_id : uuid
  employee_id : uuid
  region_id : uuid
  order_date : datetime
  status : varchar
  total_amount : decimal
  created_at : datetime
  updated_at : datetime
}

entity "order_items" as OI {
  + id : uuid
  --
  order_id : uuid
  product_id : uuid (external)
  quantity : integer
  unit_price : decimal
  discount : decimal
}

C  ||--o{ O  : "1 : N"
E  ||--o{ O  : "1 : N"
RG ||--o{ O  : "1 : N"
O  ||--o{ OI : "1 : N"

@enduml

